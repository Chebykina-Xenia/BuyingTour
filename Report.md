# Ручное тестирование сервиса по покупке тура
 
## Покупка тура с дебетовой карты
Зайти на сайт [сервиса по покупке тура](http://localhost:8080/) — Нажать на кнопку «Купить» — Открывается форма «Оплата по карте».

### Позитивные сценарии
1. Отправка заполненной формы. Платёж одобрен. 
Заполнить форму «Оплата по карте».

|Наименование поля | Данные для заполнения                                                                                         |
|-------------------|---------------------------------------------------------------------------------------------------------------|
| Номер карты       | 1111 2222 3333 4444                                                                                           |
| Месяц             | Ввод значения в диапазоне 01-12, но если указан текущий год, то месяц должен быть больше или равен текущему   |
| Год               | Число из диапазона 22-27                                                                                      |
| Владелец          | Буквы на латинице от 1 до 40                                                                                  |
| CVC/CVV           | Любых 3 цифры                                                                                                 |

Нажать на кнопку «Продолжить».
**Ожидаемый резудьтат:** Выводится сообщение: «Успешно! Операция одобрена банком.» Данные заносятся в таблицу order_entity и payment_entity (статус платежа — APPROVED).

2. Отправка заполненной формы. Платёж не одобрен. 
Заполнить форму «Оплата по карте».

| Наименование поля | Данные для заполнения                                                                                         |
|-------------------|---------------------------------------------------------------------------------------------------------------|
| Номер карты       | 1111 2222 3333 4444                                                                                           |
| Месяц             | Ввод значения в диапазоне 01-12, но если указан текущий год, то месяц должен быть больше или равен текущему   |
| Год               | Число из диапазона 22-27                                                                                      |
| Владелец          | Буквы на латинице от 1 до 40                                                                                  |
| CVC/CVV           | Любых 3 цифры                                                                                                 |

Нажать на кнопку «Продолжить».
**Ожидаемый резудьтат:** Выводится сообщение: «Ошибка! Операция не одобрена банком.» Данные заносятся в таблицу order_entity и payment_entity (статус платежа — DECLINED).






### Негативные сценарии
Отправка незаполненной формы

## Покупка тура в кредит
Зайти на сайт [сервиса по покупке тура](http://localhost:8080/) — Нажать на кнопку «Купить в кредит» — Открывается форма «Кредит по данным карты».

### Позитивные сценарии

### Негативные сценарии




**Основная задача**: тестирование покупки тура с дебетовой карты. Данные передаются в БД (таблицы order_entity и payment_entity). В таблицу credit_request_entity не должны передаваться данные.

Зайти на сайт [сервиса по покупке тура](http://localhost:8080/) — Нажать на кнопку «Купить» — Открывается форма «Оплата по карте».

Опреация может быть одобрена и не одобрена банком. 

##### Операция одобрена банком
Заполнить форму «Оплата по карте».
| Наименование поля | Данные для заполнения                                                                                         |
|-------------------|---------------------------------------------------------------------------------------------------------------|
| Номер карты       | 1111 2222 3333 4444                                                                                           |
| Месяц             | Ввод значения в диапазоне 01-12, но если указан текущий год, то месяц должен быть больше или равен текущему   |
| Год               | Число из диапазона 22-27                                                                                      |
| Владелец          | Буквы на латинице от 1 до 40                                                                                  |
| CVC/CVV           | Любых 3 цифры                                                                                                 |

Нажать на кнопку «Продолжить».
**Ожидаемый результат**: данные записываются в БД, статус платежа — одобрено (APPROVED). Выводится сообщение: «Успешно! Опреация одобрена банком».

##### Операция не одобрена банком
Заполнить форму «Оплата по карте».
| Наименование поля | Данные для заполнения                                                                                         |
|-------------------|---------------------------------------------------------------------------------------------------------------|
| Номер карты       | 5555 6666 7777 8888                                                                                           |
| Месяц             | Ввод значения в диапазоне 01-12, но если ставим текущий год, то месяц должен быть больше или равен текущему   |
| Год               | Число из диапазона 22-27                                                                                      |
| Владелец          | Буквы на латинице от 1 до 40                                                                                  |
| CVC/CVV           | Любых 3 цифры                                                                                                 |

Нажать на кнопку «Продолжить».
**Ожидаемый результат**: данные записываются в БД, статус платежа — не одобрена (DECLINED). Выводится сообщение: «Ошибка! Опреация не одобрена банком».


**Основная задача:** проверить ввод невалидных данных в одно из полей, а в другие поля вводить валидные значения.

**Ожидаемый результат:** при вводе невалидных данных возникают сообщения о неверном заполнении поля. Данные не записываются в БД.

##### Отправка пустой формы
**Ожидаемый результат:** форма не отправляется, под незаполненными полями выводится сообщение: «Неверный формат» или «Поле обязательно для заполнения».

##### Невалидные значения для заполнения поля «Номер карты».
| Данные для заполнения | Ожидаемый результат                                        |
|-----------------------|------------------------------------------------------------|
| Пустое поле           | Под полем Номер карты выводится сообщение: Неверный формат |
| 5 цифр                | Под полем Номер карты выводится сообщение: Неверный формат |
| Русские буквы         | Поле остаётся пустым                                       |
| Символы               | Поле остаётся пустым                                       |
| Буквы на латинице     | Поле остаётся пустым                                       |
| 17 цифр               | В поле остаются первые 16 цифр                             |
| 16 цифр               | Выводится сообщение: Карта не подходит для оплаты          |

##### Невалидные значения для заполнения поля «Месяц».
| Данные для заполнения                                 | Ожидаемый результат                                                     |
|-------------------------------------------------------|-------------------------------------------------------------------------|
| Пустое поле                                           | Под полем Месяц выводится сообщение: Неверный формат                    |
| 1 цифра                                               | Под полем Месяц выводится сообщение: Неверный формат                    |
| 00                                                    | Под полем Месяц выводится сообщение: Неверно указан срок действия карты |
| 13                                                    | Под полем Месяц выводится сообщение: Неверно указан срок действия карты |
| Больше 2 цифр                                         | В поле остаются первые 2 цифр                                           |
| Русские буквы                                         | Поле остаётся пустым                                                    |
| Символы                                               | Поле остаётся пустым                                                    |
| Буквы на латинице                                     | Поле остаётся пустым                                                    |
| Если вводим текущий год, вводим месяц меньше текущего | Под полем Месяц выводится сообщение: Неверно указан срок действия карты |


##### Невалидные значения для заполнения поля «Год».
| Данные для заполнения               | Ожидаемый результат                                                     |
|-------------------------------------|-------------------------------------------------------------------------|
| Пустое поле                         | Под полем Год выводится сообщение: Неверный формат                      |
| 1 цифра                             | Под полем Месяц выводится сообщение: Неверный формат                    |
| Цифра меньше текущего года          | Под полем Месяц выводится сообщение: Истёк срок действия карты          |
| Цифра больше чем текущий год +5 лет | Под полем Месяц выводится сообщение: Неверно указан срок действия карты |
| Больше 2 цифр                       | В поле остаются первые 2 цифр                                           |
| Русские буквы                       | Поле остаётся пустым                                                    |
| Символы                             | Поле остаётся пустым                                                    |
| Буквы на латинице                   | Поле остаётся пустым                                                    |

##### Невалидные значения для заполнения поля «Владелец».
| Данные для заполнения | Ожидаемый результат                                                                          |
|-----------------------|----------------------------------------------------------------------------------------------|
| Пустое поле           | Под полем Владелец выводится сообщение: Поле обязательно для заполнения                      |
| 1 буква               | Под полем Владелец выводится сообщение: диапазон значения в поле должен быть от 2 до 40 букв |
| 41 буква              | Под полем Владелец выводится сообщение: диапазон значения в поле должен быть от 2 до 40 букв |
| Русские буквы         | Поле остаётся пустым                                                                         |
| Цифры                 | Поле остаётся пустым                                                                         |

##### Невалидные значения для заполнения поля «CVC/CVV».
| Данные для заполнения | Ожидаемый результат                                    |
|-----------------------|--------------------------------------------------------|
| Пустое поле           | Под полем CVC/CVV выводится сообщение: Неверный формат |
| 1 цифра               | Под полем CVC/CVV выводится сообщение: Неверный формат |
| Больше 3 цифр         | В поле остаются первые 2 цифр                          |
| Русские буквы         | Поле остаётся пустым                                   |
| Символы               | Поле остаётся пустым                                   |
| Буквы на латинице     | Поле остаётся пустым                                   |
